<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head">
    <title id="pageTitle">Add/Edit Perfume</title>
</head>
<body>
<nav th:replace="fragments/navHeader :: navbar"></nav>
<div class="container has-text-centered">

    <h2 class="title is-2" th:if="${perfumeTransaction.id != null}">Edit Transaction</h2>
    <h2 class="title is-2" th:if="${perfumeTransaction.id == null}">Add Transaction</h2>

    <form th:action="@{/perfumetransaction/submit}" th:object="${perfumeTransaction}" method="post" class="wbb"
          style="display:inline-block;text-align:left!important">

        <input type="hidden" th:field="*{id}"/>
        <p>
            <label for="transactionDate">Transaction Date:</label>
            <input type="date"
                   id="transactionDate"
                   th:field="*{transactionDate}"
                   class="form-control"/>

            <span class="cd" th:if="${#fields.hasErrors('transactionDate')}" th:errors="*{transactionDate}"
                  style="color:red"></span>
        </p>

        <p>
            <label>Customer Name:</label>
            <input type="text" th:field="*{customerName}"/>
        </p>
        <p class="cd" th:if="${#fields.hasErrors('customerName')}" th:errors="*{customerName}" style="color:red"></p>

        <p>
            <label>Phone Number:</label>
            <input type="text" th:field="*{phoneNumber}"/>
        </p>
        <p class="cd" th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}" style="color:red"></p>

        <p>
            <label for="perfumeChoice">Perfume Choice:</label>
            <select id="perfumeChoice" th:field="*{perfumeChoice}" class="form-control">
                <option value="">-- Select Brand --</option>

                <option th:each="cv : ${perfumeBrands}"
                        th:value="${cv.englishDescription}"
                        th:text="${cv.englishDescription}">
                </option>
            </select>
        </p>
        <p class="cd" th:if="${#fields.hasErrors('perfumeChoice')}" th:errors="*{perfumeChoice}" style="color:red"></p>

        <p>
            <label>Perfume Size:</label>
            <input type="text" th:field="*{perfumeSize}"/>
        </p>
        <p class="cd" th:if="${#fields.hasErrors('perfumeSize')}" th:errors="*{perfumeSize}" style="color:red"></p>

        <p>
            <label>Price Per Bottle:</label>
            <input type="number" step="0.01" th:field="*{pricePerBottle}"/>
        </p>
        <p class="cd" th:if="${#fields.hasErrors('pricePerBottle')}" th:errors="*{pricePerBottle}"
           style="color:red"></p>

        <p>
            <label>Quantity:</label>
            <input type="number" th:field="*{quantity}"/>
        </p>
        <p class="cd" th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}" style="color:red"></p>

        <p>
            <label>Sub Total:</label>
            <input type="number" step="0.01" th:field="*{subTotal}" readonly="readonly"/>
        </p>

        <p>
            <label>Tax Amount:</label>
            <input type="number" step="0.01" th:field="*{taxAmount}" readonly="readonly"/>
        </p>

        <p>
            <label>Total:</label>
            <input type="number" step="0.01" th:field="*{total}" readonly="readonly"/>
        </p>
        <!--buttons-->
        <div class="row">
            <div class="col-md-6 offset-md-3 text-center">

                <button type="submit" class="btn btn-success me-3">
                    Save Transaction
                </button>

                <a th:href="@{/perfumetransaction}" class="btn btn-warning text-dark">
                    Go Back to List
                </a>

            </div>
        </div>


    </form>

</div>
<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>